<header class="bg-white shadow-sm">
    <div class="mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-4">
            <!-- Left side: Logo and Toggle -->
            <div>
                <button id="sidebarToggle" class="p-2 rounded-md focus:outline-none no-hover" style="margin-left: 225px; background: transparent;">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
            
            <!-- Right side: SM Badge and User Menu -->
            <div class="flex items-center space-x-4">
                <% if (user.role === 'super_admin') { %>
                    <span class="text-sm font-medium text-blue-600">SM</span>
                <% } %>
                
                <!-- User Menu -->
                <div class="relative" x-data="{ open: false }">
                    <!-- User Icon Button -->
                    <button @click="open = !open" class="flex items-center focus:outline-none">
                        <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                        </div>
                    </button>

                    <!-- Dropdown Menu -->
                    <div x-show="open" 
                         @click.away="open = false"
                         class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10">
                        <a href="/profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            Profile
                        </a>
                        <hr>
                        <a href="/logout" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Alpine.js for dropdown functionality -->
<script src="//unpkg.com/alpinejs" defer></script>

<!-- Sidebar toggle script -->
<script>
    document.getElementById('sidebarToggle').addEventListener('click', function() {
        const toggleButton = this;
        const currentMargin = toggleButton.style.marginLeft;
        
        if (currentMargin === '225px') {
            toggleButton.style.marginLeft = '0px';
        } else {
            toggleButton.style.marginLeft = '225px';
        }
        
        document.body.classList.toggle('sidebar-open');
    });
</script>

<style>
.no-hover:hover {
    background: transparent !important;
}
</style>